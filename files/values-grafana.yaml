# files/values-grafana.yaml
# ============================================================
# Custom values for Grafana in monitoring namespace
# ============================================================

adminUser: admin
adminPassword: admin

service:
  type: ClusterIP
  port: 3000

# Không bật datasources tự động (sẽ mount thủ công)
datasources: {}

# Mount ConfigMap provisioning từ grafana-datasources
extraConfigmapMounts:
  - name: grafana-datasources
    configMap: grafana-datasources
    mountPath: /etc/grafana/provisioning/datasources
    readOnly: true
  - name: grafana-dashboards
    configMap: grafana-dashboards
    mountPath: /etc/grafana/provisioning/dashboards
    readOnly: true

dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
      - name: "default"
        orgId: 1
        folder: ""
        type: file
        disableDeletion: false
        editable: true
        updateIntervalSeconds: 30
        options:
          path: /etc/grafana/provisioning/dashboards
